# DP: Description: Optimizes the build for sparcv9
# DP: Author: Ben Collins, Aurelien Jarno
# DP: Upstream status: Debian-Specific
# DP: Status Details:
# DP: Date: July 19, 2007

Index: configure
===================================================================
--- configure.orig
+++ configure
@@ -1798,6 +1798,11 @@
   machine="powerpc"
 fi
 
+# Force v9
+if test "$machine" = sparc; then
+   machine="sparcv9"
+fi
+
 # Braindead PowerPC box with absolutely no FPU.
 case "$machine-$host_os" in
   powerpc*-*soft)
Index: configure.in
===================================================================
--- configure.in.orig
+++ configure.in
@@ -307,6 +307,11 @@
   machine="powerpc"
 fi
 
+# Force v9
+if test "$machine" = sparc; then
+   machine="sparcv9"
+fi
+
 # Braindead PowerPC box with absolutely no FPU.
 case "$machine-$host_os" in
   powerpc*-*soft)
