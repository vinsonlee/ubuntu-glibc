Index: glibc-2.6/include/errno.h
===================================================================
--- glibc-2.6.orig/include/errno.h
+++ glibc-2.6/include/errno.h
@@ -21,7 +21,7 @@
 
 #  include <tls.h>
 
-#  if USE___THREAD
+#  if USE___THREAD && !defined(__GNU__)
 #   undef  errno
 #   ifndef NOT_IN_libc
 #    define errno __libc_errno
Index: glibc-2.6/sysdeps/mach/i386/sysdep.h
===================================================================
--- glibc-2.6.orig/sysdeps/mach/i386/sysdep.h
+++ glibc-2.6/sysdeps/mach/i386/sysdep.h
@@ -16,6 +16,9 @@
    Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA
    02111-1307 USA.  */
 
+#include <dl-sysdep.h>
+#include <tls.h>
+
 #define LOSE asm volatile ("hlt")
 
 #define SNARF_ARGS(entry_sp, argc, argv, envp)				      \
