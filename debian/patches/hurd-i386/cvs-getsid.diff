2006-01-18  Samuel Thibault  <samuel.thibault@ens-lyon.org>
	
	[BZ #2178]
	* sysdeps/mach/hurd/getsid.c (getsid): When parameter PID is zero,
	use _hurd_pid instead.

===================================================================
RCS file: /cvs/glibc/libc/sysdeps/mach/hurd/getsid.c,v
retrieving revision 1.4
retrieving revision 1.5
diff -u -r1.4 -r1.5
--- libc/sysdeps/mach/hurd/getsid.c	2002/08/04 03:30:39	1.4
+++ libc/sysdeps/mach/hurd/getsid.c	2006/02/21 02:32:31	1.5
@@ -28,6 +28,9 @@
   error_t err;
   pid_t sid;
 
+  if (pid == 0)
+    pid = _hurd_pid;
+
   err = __USEPORT (PROC, __proc_getsid (port, pid, &sid));
   if (err)
     return (pid_t) __hurd_fail (err);
